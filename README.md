# Методы обхода массива

## Summary

Во время программирования очень часто приходится работать с коллекциями из объектов: массив телефонных номеров, список имен, GPS-координаты и т.д.

При работе с такими коллекциями снова и снова появляются шаблонные задачи. К примеру очень часто приходится проходиться по массиву и делать что-то с каждым его элементом:

```javascript
function sendText(number) {
  // код отправки сообщения на number 
}

const phoneNumbers = ['+79299999999', '+79288888888', '+79277777777'];

for (let i = 0; i < phoneNumbers.length; i++) {
  sendText(phoneNumbers[i])
}
```
*Образец 1*. Проходимся по массиву и поочередно вставляем каждый элемент массива в функцию `sendText`.

Прохождение по элементам массива нужно бывает еще в огромном множестве других случаев:

- поиск совпадения в массиве;
- поиск минимального/максимального числа;
- вычисление общей суммы/разницы/произведения/.../;
- удаление элементов массива по определенному условию;
- изменение каждого элемента массива;
- и т.д... (примеров может быть тысячи)

### Методы обхода

Перечисленные задачи настолько общие, что JavaScript и многие другие языки программирования внесли в свой язык специальные методы, которые позволяют делать эти обходы удобнее.

Рассмотреть весь список методов обхода в JavaScript можно на странице [https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array) (раздел "Методы обхода").

Самым простым из этих методов является `forEach`. Он принимает в качестве параметра одну функцию и применяет её поочередно к каждому элементу массива.

Код из _образца 1_ можно записать следующим образом

```javascript
function sendText(number) {
  // код отправки сообщения на number 
}

const phoneNumbers = ['+79299999999', '+79288888888', '+79277777777'];

phoneNumbers.forEach(sendText);
```

Чаще всего функцию, похожую на `sendText` создают прямо внутри параметра, при этом не задавая ей имя:

```javascript
const phoneNumbers = ['+79299999999', '+79288888888', '+79277777777'];

phoneNumbers.forEach(function (number) {
  // код отправки сообщения на number 
});
```

либо вариант со стрелочной функцией:

```javascript
const phoneNumbers = ['+79299999999', '+79288888888', '+79277777777'];

phoneNumbers.forEach((number) => {
  // код отправки сообщения на number 
});
```

Метод `forEach` просто обходит массив, применяя функцию к каждому элементу, но ничего не возвращает. Все остальные методы обхода отличаются тем, что возвращают какое-то результирующее значение.

## Releases
### Release 0: Поиск элемента в коллекции

Еще одним методом обхода является метод `find`. Он применяет указанную функцию поочередно к каждому элементу и если эта функция вернет `true`, то обход прерывается и метод возвращает этот элемент.

Прочитай описание функции в [учебнике JavaScript](https://learn.javascript.ru/array-methods#find-i-findindex). Внимательно посмотри на примеры, попытайся понять принцип работы этого метода.

Когда теория будет готова открой файл `find.js`. В нём реализован поиск элементов, однако без использования `find`. Перепиши функции используя данный метод обхода. Не забудь проверять тесты.

### Release 1: Фильтрация коллекции

В релизе выше мы использовали метод, который позволял найти один конкретный элемент из коллекции. Как насчет того, чтобы найти сразу несколько элементов? Например, найти все положительные числа массива, найти всех людей, у кого сегодня день рождения, извлечь из списка контактов только те, кто сейчас онлайн и т.д.

Подобные задачи известны как _фильтрация_ массива и осуществляется методом `filter()`. Метод также принимает в качестве параметра функцию, которая будет применена к каждому элементу массива. Если функция вернет `true`, то элемент обхода остается в результирующем массиве, иначе удаляется.

```javascript
const numbers = [1, 5, 3, 8, 2];

const positive = numbers.filter((number) => {
  if(number > 0) {
    return true;
  }
  
  return false;
});
```
*Образец 2*. Фильтрация массива.

Кстати, тот же код можно записать еще короче

```javascript
const numbers = [1, 5, 3, 8, 2]

const positive = numbers.filter((number) => number > 0);
```
*Образец 3*. Короткая запись стрелочной функции.

В файле `filter.js` даны несколько функций, которые фильтруют массив. Функции используют классический подход с циклом `for`. Проведи код-рефакторинг и сделай так, чтобы функции использовали метод `filter()`. Не забывай про тесты.

### Release 2: Изменение элементов массива

Другая частая задача при программировании – изменение отдельных элементов массива.

В JavaScript для этого используется метод `map`. Он, как и предыдущие методы, перебирает все элементы массива. Каждый раз он возвращает **_измененный_** элемент, который попадет в результирующий массив. 

Метод `map` не изменяет старый массив, по которому он делает обход. Вместо этого он возвращает новый массив с измененными элементами.

Прочитай документацию этого метода [в справочнике](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/map).

Затем открой файл `map.js`, в котором даны несколько функций. Они используют классический подход с циклом `for`. Проведи код-рефакторинг и сделай так, чтобы функции использовали метод `map`. Не забывай про тесты.

### Release 3: Совокупный результат для элементов массива

Последнее, что мы освоим в данном челлендже – это общий результат обхода массива. В качестве результата обычно выступает какое-то одно значение или объект (но не новый массив).

Примером такого совокупного результата, к примеру, является сумма всех элементов массива.

Для подобных задач используется метод `reduce`. Этот метод немного сложнее предыдущих, так как может работать в двух разных режимах (когда указано стартовое значение и когда оно не указано).

Изучи принцип работы функции [в документации](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce). Внимательно посмотри и изучи примеры. Открой песочницу и попробуй самостоятельно написать код, который будет подсчитывать сумму всех элементов массива. Как только разберешься с этим возвращайся обратно к челленджу.

В файле `reduce.js` даны несколько функций, которые проходят по массиву и вычисляют общий результат. Функции используют классический подход с циклом `for`. Проведи код-рефакторинг и сделай так, чтобы функции использовали метод `reduce`. Не забывай про тесты.

### Release 4: Определение нужного метода

В предыдущих релизах выполняя код-рефакторинг мы точно знали какой из методов нужно использовать. Сейчас же тебе нужно самостоятельно определить нужный метод и сделать код-рефакторинг.

Как можно определить какой метод использовать? Для этого определи что конкретно нужно выполнить в задаче: отфильтровать, изменить какой-то (или все) элементы массива либо найти какой-то общий ответ результата обхода. Выяснив практическую задачу можно будет правильно подобрать необходимый метод. 

В файле `define-methods.js` даны несколько функций, которые проходят по массиву и выполняют определенный действия. Функции используют классический подход с циклом `for`. Проведи код-рефакторинг и сделай так, чтобы функции использовали нужные методы, которые мы изучили ранее. Не забывай про тесты.

## Conclusion

Методы обхода (перебирающие методы) используются в JavaScript повсеместно. В рамках обучения в intocode bootcamp мы будем использовать эти методы очень часто. Особенно часто при использовании библиотеки React. 

Постарайся познакомиться с этими методами как можно ближе. Найди и решай задачки в интернете и на codewars с использованием этих методов. Вернись к своим старым челленджам, проверь код, содержащий циклы и подумай – можно ли улучшить старый код используя методы обхода.
